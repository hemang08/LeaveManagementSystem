<div class="container">
  <div class="d-flex justify-content-end mt-2">
    <button mat-button matButton="outlined" (click)="addEditLeave(0)">Add Leave</button>
  </div>
@if(dataSource && dataSource.length > 0){
<table mat-table [dataSource]="dataSource" matSort (matSortChange)="onSortChange($event)">
  <ng-container matColumnDef="employeeName">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Employee Name</th>
    <td mat-cell *matCellDef="let row">{{row.employeeName}}</td>
  </ng-container>
  <ng-container matColumnDef="leaveType">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Leave Type</th>
    <td mat-cell *matCellDef="let row">{{row.leaveType}}</td>
  </ng-container>
  <ng-container matColumnDef="fromDate">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>From Date</th>
    <td mat-cell *matCellDef="let row">{{row.fromDate | date : 'dd/MM/yyyy '}}</td>
  </ng-container>
  <ng-container matColumnDef="status">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
    <td mat-cell *matCellDef="let row">{{row.status}}</td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef>Actions</th>
    <td mat-cell *matCellDef="let row">
      <button mat-button matButton="outlined" (click)="addEditLeave(row.leaveRequestId)">Edit</button>
      <button mat-button matButton="outlined" color="warn" (click)="confirmDelete(row.leaveRequestId)"
        class="ms-2">Delete</button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let r; columns: displayedColumns;"></tr>
</table>

<mat-paginator [length]="totalLeaves" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 20]"
  (page)="onPageChange($event)">
</mat-paginator>
}
@else{
<div class="text-center p-10 text-gray-500">
  <h3>No leave records found.</h3>
</div>
}
</div>

